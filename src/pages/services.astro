---
import Layout from '../layouts/Layout.astro';
import SectionTitle from '../components/SectionTitle.astro';
import CTASection from '../components/CTASection.astro';

const services = [
  {
    id: 'maconnerie',
    title: 'Maçonnerie',
    subtitle: 'Neuf & Rénovation',
    description: 'Notre expertise en maçonnerie couvre l\'ensemble des travaux de construction et de rénovation. Que ce soit pour un projet neuf ou la rénovation de votre habitat existant, nous mettons notre savoir-faire à votre service.',
    features: [
      'Construction de murs porteurs et cloisons',
      'Réalisation de fondations',
      'Coulage de dalles béton',
      'Création d\'ouvertures (portes, fenêtres)',
      'Pose de linteaux et appuis de fenêtre',
      'Montage de parpaings et briques',
      'Joints de maçonnerie'
    ],
    image: '/images/maconnerie.jpg'
  },
  {
    id: 'renovation',
    title: 'Rénovation',
    subtitle: 'Intérieur & Extérieur',
    description: 'La rénovation est au cœur de notre métier. Nous redonnons vie à vos bâtiments anciens tout en respectant leur caractère, ou nous modernisons votre habitat pour plus de confort.',
    features: [
      'Reprise de maçonnerie ancienne',
      'Agrandissement et extension',
      'Démolition contrôlée',
      'Renforcement de structures',
      'Réfection de murs',
      'Transformation d\'espaces',
      'Mise aux normes'
    ],
    image: '/images/renovation.jpg'
  },
  {
    id: 'hydrofuge',
    title: 'Nettoyage Hydrofuge',
    subtitle: 'Protection durable',
    description: 'Le traitement hydrofuge protège vos surfaces contre l\'humidité, les infiltrations et les dégradations liées aux intempéries. Une solution préventive et curative pour préserver votre patrimoine.',
    features: [
      'Traitement anti-humidité',
      'Application de produits hydrofuges',
      'Protection contre les infiltrations',
      'Traitement des remontées capillaires',
      'Imperméabilisation des surfaces',
      'Protection longue durée (10+ ans)',
      'Produits respectueux de l\'environnement'
    ],
    image: '/images/hydrofuge.jpg'
  },
  {
    id: 'toiture',
    title: 'Toiture',
    subtitle: 'Entretien & Nettoyage',
    description: 'L\'entretien régulier de votre toiture est essentiel pour préserver l\'étanchéité et la durabilité de votre couverture. Nous intervenons pour nettoyer, démousser et traiter votre toit.',
    features: [
      'Nettoyage haute pression',
      'Démoussage et traitement anti-mousse',
      'Application de produits de protection',
      'Réparation de tuiles cassées',
      'Vérification de l\'étanchéité',
      'Nettoyage des gouttières',
      'Diagnostic de l\'état de la toiture'
    ],
    image: '/images/toiture.jpg'
  },
  {
    id: 'facade',
    title: 'Façade',
    subtitle: 'Ravalement & Traitement',
    description: 'Le ravalement de façade redonne une seconde jeunesse à votre habitation. Nettoyage, réparation et traitement de vos murs extérieurs pour une façade comme neuve.',
    features: [
      'Nettoyage haute pression',
      'Gommage et sablage',
      'Réparation des fissures',
      'Application d\'enduit',
      'Peinture de façade',
      'Traitement anti-salissure',
      'Ravalement complet'
    ],
    image: '/images/facade.jpg'
  },
  {
    id: 'travaux-divers',
    title: 'Travaux Divers',
    subtitle: 'Intérieur & Extérieur',
    description: 'Au-delà de nos spécialités, nous réalisons tous types de travaux d\'aménagement pour l\'intérieur et l\'extérieur de votre habitation.',
    features: [
      'Création de terrasses',
      'Pose de clôtures et portails',
      'Aménagement de cours et allées',
      'Construction d\'abris de jardin',
      'Pose de bordures',
      'Petite maçonnerie paysagère',
      'Travaux d\'aménagement divers'
    ],
    image: '/images/travaux-divers.jpg'
  }
];
---

<Layout
  title="Nos Services"
  description="Découvrez les services de maçonnerie et rénovation EIRL REPAIN à Beauvoir sur Niort : maçonnerie neuf et rénovation, nettoyage hydrofuge, toiture, façade et travaux divers."
>
  <!-- Header -->
  <section class="page-header section--black">
    <div class="container">
      <SectionTitle
        subtitle="Nos Services"
        title="Des prestations complètes pour "
        highlight="tous vos projets"
        light={true}
      />
      <p class="page-header__intro">
        Artisan maçon qualifié, nous intervenons sur tous types de travaux de maçonnerie
        et de rénovation. Découvrez l'ensemble de nos prestations.
      </p>
    </div>
  </section>

  <!-- Services Detail -->
  {services.map((service, index) => (
    <section
      class:list={['service-detail', { 'section--gray': index % 2 === 1 }]}
      id={service.id}
    >
      <div class="container">
        <div class:list={['service-detail__grid', { 'service-detail__grid--reverse': index % 2 === 1 }]}>
          <div class="service-detail__content">
            <span class="service-detail__subtitle">{service.subtitle}</span>
            <h2 class="service-detail__title">{service.title}</h2>
            <p class="service-detail__description">{service.description}</p>
            <ul class="service-detail__features">
              {service.features.map((feature) => (
                <li class="service-detail__feature">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>
            <a href="/contact" class="btn btn--primary">
              Demander un devis
            </a>
          </div>
          <div class="service-detail__image">
            <div class="service-detail__image-placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21 15 16 10 5 21"/>
              </svg>
              <span>Photo de chantier</span>
              <span class="placeholder-note">{service.title}</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  ))}

  <!-- Process Section -->
  <section class="section section--black process">
    <div class="container">
      <SectionTitle
        subtitle="Notre méthode"
        title="Un accompagnement de "
        highlight="A à Z"
        light={true}
      />
      <div class="process__steps">
        <div class="process__step">
          <span class="process__number">01</span>
          <h3 class="process__title">Prise de contact</h3>
          <p class="process__description">
            Appelez-nous ou remplissez notre formulaire de contact pour nous décrire votre projet.
          </p>
        </div>
        <div class="process__step">
          <span class="process__number">02</span>
          <h3 class="process__title">Visite sur site</h3>
          <p class="process__description">
            Nous nous déplaçons gratuitement pour évaluer les travaux et prendre les mesures.
          </p>
        </div>
        <div class="process__step">
          <span class="process__number">03</span>
          <h3 class="process__title">Devis détaillé</h3>
          <p class="process__description">
            Vous recevez un devis clair et détaillé sous 48h, sans engagement de votre part.
          </p>
        </div>
        <div class="process__step">
          <span class="process__number">04</span>
          <h3 class="process__title">Réalisation</h3>
          <p class="process__description">
            Une fois le devis accepté, nous planifions et réalisons vos travaux dans les règles de l'art.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <CTASection
    title="Prêt à concrétiser votre projet ?"
    subtitle="Contactez-nous pour un devis gratuit et personnalisé"
  />
</Layout>

<style>
  .page-header {
    padding: calc(80px + var(--spacing-3xl)) 0 var(--spacing-3xl);
  }

  .page-header__intro {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
    color: var(--color-gray);
    font-size: 1.125rem;
  }

  /* Service Detail */
  .service-detail {
    padding: var(--spacing-3xl) 0;
  }

  .service-detail__grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-3xl);
    align-items: center;
  }

  .service-detail__grid--reverse {
    direction: rtl;
  }

  .service-detail__grid--reverse > * {
    direction: ltr;
  }

  .service-detail__subtitle {
    display: inline-block;
    color: var(--color-yellow);
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: var(--spacing-sm);
  }

  .service-detail__title {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    margin-bottom: var(--spacing-md);
  }

  .service-detail__description {
    color: var(--color-gray-dark);
    font-size: 1.0625rem;
    line-height: 1.7;
    margin-bottom: var(--spacing-lg);
  }

  .service-detail__features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-lg);
  }

  .service-detail__feature {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    color: var(--color-gray-dark);
    font-size: 0.9375rem;
  }

  .service-detail__feature svg {
    color: var(--color-yellow);
    flex-shrink: 0;
  }

  .service-detail__image {
    border-radius: var(--radius-lg);
    overflow: hidden;
  }

  .service-detail__image-placeholder {
    background-color: var(--color-gray-light);
    aspect-ratio: 4/3;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--color-gray);
  }

  .service-detail__image-placeholder svg {
    color: var(--color-yellow);
    margin-bottom: var(--spacing-sm);
  }

  .service-detail__image-placeholder span {
    font-weight: 500;
  }

  .placeholder-note {
    font-size: 0.875rem;
    color: var(--color-gray);
    margin-top: var(--spacing-xs);
  }

  /* Process */
  .process__steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-xl);
  }

  .process__step {
    text-align: center;
    padding: var(--spacing-lg);
  }

  .process__number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    background-color: var(--color-yellow);
    color: var(--color-black);
    font-size: 1.5rem;
    font-weight: 800;
    border-radius: 50%;
    margin-bottom: var(--spacing-md);
  }

  .process__title {
    color: var(--color-white);
    font-size: 1.25rem;
    margin-bottom: var(--spacing-sm);
  }

  .process__description {
    color: var(--color-gray);
    margin: 0;
  }

  @media (max-width: 768px) {
    .service-detail__grid {
      grid-template-columns: 1fr;
    }

    .service-detail__grid--reverse {
      direction: ltr;
    }

    .service-detail__image {
      order: -1;
    }
  }
</style>
